"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[6178],{8891:(e,s,o)=>{o.r(s),o.d(s,{assets:()=>a,contentTitle:()=>r,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>u});var n=o(4848),t=o(8453);const c={id:"docusaurus-component",slug:"/docusaurus-component",title:"Custom Components",authors:"vnambs",description:"Introduction to customizing Docusaurus components"},r=void 0,i={id:"skiill/docusaurus/docusaurus-component",title:"Custom Components",description:"Introduction to customizing Docusaurus components",source:"@site/docs/skiill/docusaurus/component.md",sourceDirName:"skiill/docusaurus",slug:"/docusaurus-component",permalink:"/docu/docs/docusaurus-component",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/skiill/docusaurus/component.md",tags:[],version:"current",frontMatter:{id:"docusaurus-component",slug:"/docusaurus-component",title:"Custom Components",authors:"vnambs",description:"Introduction to customizing Docusaurus components"},sidebar:"tutorialSidebar",previous:{title:"Comment Services",permalink:"/docu/docs/docusaurus-comment"},next:{title:"Configuration File",permalink:"/docu/docs/docusaurus-config"}},a={},u=[{value:"Theme Components",id:"theme-components",level:2},{value:"Swizzle Components",id:"swizzle-components",level:2}];function d(e){const s={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,t.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.p,{children:["An initialized Docusaurus project already has reserved components, such as blog layout, tag archive pages, and more. However, the styles of these components may not meet your aesthetic needs, or you might want to add something to these theme components. This is where ",(0,n.jsx)(s.a,{href:"https://docusaurus.io/docs/swizzling",children:"Swizzle"})," comes in."]}),"\n",(0,n.jsx)(s.h2,{id:"theme-components",children:"Theme Components"}),"\n",(0,n.jsxs)(s.p,{children:["In Docusaurus, theme components are located under ",(0,n.jsx)(s.strong,{children:"@docusaurus/theme-classic/theme"}),". If you want to override a specific component, you can create a file with the same path structure under the ",(0,n.jsx)(s.code,{children:"src/theme"})," directory."]}),"\n",(0,n.jsx)(s.p,{children:"For example:"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"website\r\n\u251c\u2500\u2500 node_modules\r\n\u2502   \u2514\u2500\u2500 @docusaurus/theme-classic\r\n\u2502       \u2514\u2500\u2500 theme\r\n\u2502           \u2514\u2500\u2500 Navbar.js\r\n\u2514\u2500\u2500 src\r\n    \u2514\u2500\u2500 theme\r\n        \u2514\u2500\u2500 Navbar.js\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Whenever ",(0,n.jsx)(s.code,{children:"@theme/Navbar"})," is imported, ",(0,n.jsx)(s.code,{children:"website/src/theme/Navbar.js"})," will be loaded first."]}),"\n",(0,n.jsxs)(s.p,{children:["For more on ",(0,n.jsx)(s.em,{children:"layered architecture"}),", see ",(0,n.jsx)(s.a,{href:"https://docusaurus.io/docs/advanced/client",children:"Client Architecture | Docusaurus"}),"."]}),"\n",(0,n.jsx)(s.h2,{id:"swizzle-components",children:"Swizzle Components"}),"\n",(0,n.jsxs)(s.p,{children:["To get an overview of all ",(0,n.jsx)(s.code,{children:"@docusaurus/theme-classic"})," components, you can run:"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"npm run swizzle @docusaurus/theme-classic -- --list\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Let's take the archive page as an example; the official archive page component is ",(0,n.jsx)(s.code,{children:"theme/BlogArchivePage"})]}),"\n",(0,n.jsxs)(s.p,{children:["Let's take the archive page as an example; the official archive page component is\uff1a",(0,n.jsx)(s.a,{href:"https://docusaurus.io/zh-CN/docs/swizzling#ejecting",children:"Ejecting Components"}),"or",(0,n.jsx)(s.a,{href:"https://docusaurus.io/zh-CN/docs/swizzling#wrapping",children:"Wrapping Components"})]}),"\n",(0,n.jsxs)(s.p,{children:["To eject a component, you can execute the following",(0,n.jsx)(s.a,{href:"https://docusaurus.io/zh-CN/docs/cli#docusaurus-swizzle",children:"command:"}),"\uff1a"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"npm run swizzle @docusaurus/theme-classic BlogArchivePage -- --eject --typescript\n"})}),"\n",(0,n.jsx)(s.p,{children:"This will create src/theme/BlogArchivePage/index.tsx, which contains the archive page code. You only need to modify the code to achieve the desired styles and functionality."}),"\n",(0,n.jsx)(s.p,{children:"However, this will only give you the index.tsx file, and there might be subcomponents. So my usual approach is to find the component folder in node_modules/@docusaurus/theme-classic/src/theme and copy the entire folder to src/theme. This gives you the original TS files and more places to customize, making it easier for personalization."}),"\n",(0,n.jsx)(s.p,{children:"However, there are some risks when using custom components. Upgrading Docusaurus may become more difficult if there are changes in the properties passed or the internal theme API, which could cause page rendering failures."}),"\n",(0,n.jsxs)(s.p,{children:["For example, when I upgraded Docusaurus to version 2.0.0, there were page errors because the data passed to the component by",(0,n.jsx)(s.a,{href:"https://docusaurus.io/zh-CN/docs/api/plugins/@docusaurus/plugin-content-blog",children:"plugin-content-blog"}),"  had changed, causing data parsing issues and, consequently, page rendering failures."]}),"\n",(0,n.jsx)(s.p,{children:"If you don't upgrade the dependencies, there won't be a problem, but who can guarantee that new features in future versions won't tempt users to upgrade? Therefore, when customizing components, you may need to maintain some code after upgrading dependencies. You may need to swizzle a new copy of the latest files, compare the changes, and troubleshoot issues."}),"\n",(0,n.jsx)(s.admonition,{type:"tip",children:(0,n.jsxs)(s.p,{children:["If you want to customize the theme, you can also create a custom theme. See ",(0,n.jsx)(s.a,{href:"https://docusaurus.io/zh-CN/docs/theming",children:"Custom Theme"})," for more information."]})})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},8453:(e,s,o)=>{o.d(s,{R:()=>r,x:()=>i});var n=o(6540);const t={},c=n.createContext(t);function r(e){const s=n.useContext(c);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),n.createElement(c.Provider,{value:s},e.children)}}}]);