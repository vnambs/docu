"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1529],{2557:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>d,frontMatter:()=>a,metadata:()=>o,toc:()=>u});var t=s(4848),i=s(8453);const a={id:"nginx-strapi",slug:"/nginx-strapi",title:"Nginx and Strapi",authors:"vnambs"},r="NGINX and Strapi",o={id:"skiill/strapi/Production basis/nginx-strapi",title:"Nginx and Strapi",description:"The available NGINX Ubuntu release support is listed at\xa0this distribution page. For a mapping of Ubuntu versions to release names, please visit the\xa0Official Ubuntu Releases page.",source:"@site/docs/skiill/strapi/Production basis/NGINX.md",sourceDirName:"skiill/strapi/Production basis",slug:"/nginx-strapi",permalink:"/docu/docs/nginx-strapi",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/skiill/strapi/Production basis/NGINX.md",tags:[],version:"current",frontMatter:{id:"nginx-strapi",slug:"/nginx-strapi",title:"Nginx and Strapi",authors:"vnambs"},sidebar:"tutorialSidebar",previous:{title:"Nginx Proxy Configuration",permalink:"/docu/docs/nginx-proxy"},next:{title:"Installing Node",permalink:"/docu/docs/node"}},l={},u=[{value:"Ubuntu PPA",id:"ubuntu-ppa",level:3}];function c(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"nginx-and-strapi",children:"NGINX and Strapi"})}),"\n",(0,t.jsx)(n.h1,{id:"strapi-on-nginx-aws-ec2-ubuntu-server",children:(0,t.jsx)(n.strong,{children:"Strapi on NGINX, AWS ec2 ubuntu server"})}),"\n",(0,t.jsxs)(n.p,{children:["The available NGINX Ubuntu release support is listed at\xa0",(0,t.jsx)(n.a,{href:"https://nginx.org/packages/ubuntu/dists/",children:"this distribution page"}),". For a mapping of Ubuntu versions to release names, please visit the\xa0",(0,t.jsx)(n.a,{href:"https://wiki.ubuntu.com/Releases",children:"Official Ubuntu Releases page"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["Append the appropriate stanza to\xa0",(0,t.jsx)(n.code,{children:"/etc/apt/sources.list"}),". If there is concern about persistence of repository additions (i.e. DigitalOcean Droplets), the appropriate stanza may instead be added to a different list file under\xa0",(0,t.jsx)(n.code,{children:"/etc/apt/sources.list.d/"}),", such as\xa0",(0,t.jsx)(n.code,{children:"/etc/apt/sources.list.d/nginx.list"}),"."]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Replace $release with your corresponding Ubuntu release."}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bas",children:"deb https://nginx.org/packages/ubuntu/ $release nginx\r\ndeb-src https://nginx.org/packages/ubuntu/ $release nginx\n"})}),"\n",(0,t.jsx)(n.p,{children:"e.g. Ubuntu 20.04 (Focal Fossa):"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"deb https://nginx.org/packages/ubuntu/ focal nginx\r\ndeb-src https://nginx.org/packages/ubuntu/ focal nginx\n"})}),"\n",(0,t.jsx)(n.p,{children:"To install the packages, execute in your shell:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sudo apt update\r\nsudo apt install nginx\n"})}),"\n",(0,t.jsxs)(n.p,{children:["If a\xa0",(0,t.jsx)(n.code,{children:"W:\xa0GPG\xa0error:\xa0https://nginx.org/packages/ubuntu\xa0focal\xa0InRelease:\xa0The\xa0following\xa0signatures\xa0couldn't\xa0be\xa0verified\xa0because\xa0the\xa0public\xa0key\xa0is\xa0not\xa0available:\xa0NO_PUBKEY\xa0$key"}),"\xa0is encountered during the NGINX repository update, execute the following:"]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Replace $key with the corresponding $key from your GPG error."}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys $key\r\nsudo apt update\r\nsudo apt install nginx\n"})}),"\n",(0,t.jsx)(n.p,{children:"You have now nginx installed on your server but not ready to serve web pages. you have to start the nginx. You can do this by using this command:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sudo systemctl start nginx\n"})}),"\n",(0,t.jsx)(n.h3,{id:"ubuntu-ppa",children:"Ubuntu PPA"}),"\n",(0,t.jsx)(n.p,{children:"This PPA is maintained by volunteers and is not distributed by nginx.org. It has some additional compiled-in modules and may be more fitting for your environment."}),"\n",(0,t.jsxs)(n.p,{children:["You can get the latest stable version of NGINX from the\xa0",(0,t.jsx)(n.a,{href:"https://launchpad.net/~nginx/+archive/ubuntu/development",children:"NGINX PPA"}),"\xa0on Launchpad: You will need to have root privileges to perform the following commands."]}),"\n",(0,t.jsx)(n.p,{children:"For Ubuntu 20.04 and newer:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sudo -s\r\nnginx=stable # use nginx=development for latest development version\r\nadd-apt-repository ppa:nginx/$nginx\r\napt update\r\napt install nginx\n"})}),"\n",(0,t.jsxs)(n.p,{children:["If you get an error about add-apt-repository not existing, you will want to install\xa0",(0,t.jsx)(n.code,{children:"python-software-properties"}),". For other Debian/Ubuntu based distributions, you can try the lucid variant of the PPA which is the most likely to work on older package sets:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'sudo -s\r\nnginx=stable # use nginx=development for latest development version\r\necho "deb http://ppa.launchpad.net/nginx/$nginx/ubuntu lucid main" > /etc/apt/sources.list.d/nginx-$nginx-lucid.list\r\napt-key adv --keyserver keyserver.ubuntu.com --recv-keys C300EE8C\r\napt update\r\napt install nginx\n'})}),"\n",(0,t.jsxs)(n.p,{children:["[",(0,t.jsx)(n.a,{href:"https://www.nginx.com/resources/wiki/start/topics/tutorials/install/%5D(Nginx",children:"https://www.nginx.com/resources/wiki/start/topics/tutorials/install/](Nginx"})," installation)",(0,t.jsx)(n.a,{href:"https://www.simplified.guide/ssh/copy-file",children:"https://www.simplified.guide/ssh/copy-file"})]})]})}function d(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>o});var t=s(6540);const i={},a=t.createContext(i);function r(e){const n=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);